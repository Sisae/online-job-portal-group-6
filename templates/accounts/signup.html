{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sign Up - CareerConnect</title>

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script>
  tailwind.config = {
    darkMode: "class",
    theme: {
      extend: {
        colors: {
          primary: "#1173d4",
          "background-light": "#f6f7f8",
          "background-dark": "#101922"
        },
        fontFamily: {
          display: ["Inter", "ui-sans-serif", "system-ui"]
        }
      }
    }
  }
</script>

<style>
  @keyframes fadeInUp {0% {opacity: 0;transform: translateY(18px);}100% {opacity: 1;transform: translateY(0);} }
  .fade-in-up {opacity: 0;animation: fadeInUp 900ms ease forwards;}
  .delay-100 {animation-delay: 100ms;}
  .delay-300 {animation-delay: 300ms;}
  .delay-600 {animation-delay: 600ms;}
  @keyframes logoGlow {0% {filter: drop-shadow(0 0 4px rgba(17,115,212,0.6));}50% {filter: drop-shadow(0 0 18px rgba(74,161,240,0.9));}100% {filter: drop-shadow(0 0 6px rgba(17,115,212,0.7));}}
  .glow-logo svg {animation: logoGlow 2.4s ease-in-out 1s infinite;}
  @keyframes oceanShift {0% {background-position: 0% 50%;}50% {background-position: 100% 50%;}100% {background-position: 0 50%;}}
  .ocean-gradient {background: linear-gradient(270deg, #0f73d4, #1e9ced, #2bb7c8, #1173d4);background-size: 300% 300%;animation: oceanShift 12s ease-in-out infinite;}
  @keyframes flow {0% {background-position: 0 0;}100% {background-position: 0 200%;}}
  .split-flow {width: 3px;height: 100%;background: repeating-linear-gradient(to bottom,#1173d4 0%,#4aa1f0 28%,#1173d4 55%);background-size: 100% 200%;animation: flow 1.6s linear infinite;}
  @keyframes slowZoom {0%,100% {transform: scale(1);}50% {transform: scale(1.05);} }
  .img-container {overflow: hidden;width: 100%;height: 100%;}
  .img-entrance {animation: slowZoom 20s ease-in-out infinite alternate;transform-origin: center center;width: 100%;height: 100%;object-fit: cover;}
  .text-outline {color: #1173d4;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff;}
  @media (max-width: 767px){.split-flow{display:none;}}
</style>
</head>

<body class="min-h-screen bg-background-light dark:bg-background-dark font-display">

<div class="min-h-screen flex flex-col md:flex-row">

  <!-- LEFT: gradient + form -->
  <section class="md:w-1/2 w-full ocean-gradient flex items-center justify-center p-8">
    <div class="max-w-lg w-full">

      <!-- Logo -->
      <div class="fade-in-up delay-100 glow-logo mb-6">
        <div class="flex items-center gap-3">
          <svg class="h-11 w-11 text-white" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z" fill="currentColor"/>
          </svg>
          <span class="text-2xl font-extrabold text-outline">CareerConnect</span>
        </div>
        <div class="h-[2px] bg-white mt-1"></div>
      </div>

      <!-- Heading -->
      <div class="fade-in-up delay-300 mb-5">
        <h1 class="text-white text-2xl font-normal ml-2 mb-3">Create your account</h1>
        <p class="text-sm text-white/85 ml-2">Sign up to start applying for your dream jobs</p>
      </div>

      <!-- Form -->
      <div class="bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-lg fade-in-up delay-600">
        <form method="post" class="space-y-4">
          {% csrf_token %}

          <!-- Username -->
          <div>
            <label for="{{ form.username.id_for_label }}" class="block text-sm mb-1 text-white">Username</label>
            {{ form.username|add_class:"w-full rounded-lg border border-white/20 bg-white/90 px-3 py-2 text-slate-900 focus:ring-2 focus:ring-primary focus:outline-none" }}
            {% if form.username.errors %}
              <div class="text-red-500 text-sm">{{ form.username.errors }}</div>
            {% endif %}
          </div>

          <!-- First & Last Name -->
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label for="{{ form.first_name.id_for_label }}" class="block text-sm mb-1 text-white">First Name</label>
              {{ form.first_name|add_class:"w-full rounded-lg border border-white/20 bg-white/90 px-3 py-2 text-slate-900 focus:ring-2 focus:ring-primary focus:outline-none" }}
              {% if form.first_name.errors %}
                <div class="text-red-500 text-sm">{{ form.first_name.errors }}</div>
              {% endif %}
            </div>
            <div>
              <label for="{{ form.last_name.id_for_label }}" class="block text-sm mb-1 text-white">Last Name</label>
              {{ form.last_name|add_class:"w-full rounded-lg border border-white/20 bg-white/90 px-3 py-2 text-slate-900 focus:ring-2 focus:ring-primary focus:outline-none" }}
              {% if form.last_name.errors %}
                <div class="text-red-500 text-sm">{{ form.last_name.errors }}</div>
              {% endif %}
            </div>
          </div>

          <!-- Email -->
          <div>
            <label for="{{ form.email.id_for_label }}" class="block text-sm mb-1 text-white">Email</label>
            {{ form.email|add_class:"w-full rounded-lg border border-white/20 bg-white/90 px-3 py-2 text-slate-900 focus:ring-2 focus:ring-primary focus:outline-none" }}
            {% if form.email.errors %}
              <div class="text-red-500 text-sm">{{ form.email.errors }}</div>
            {% endif %}
          </div>

          <!-- Account Type -->
          <div>
            <label for="{{ form.user_type.id_for_label }}" class="block text-sm mb-1 text-white">Account Type</label>
            {{ form.user_type|add_class:"w-full rounded-lg border border-white/20 bg-white/90 px-3 py-2 text-slate-900 focus:ring-2 focus:ring-primary focus:outline-none" }}
            {% if form.user_type.errors %}
              <div class="text-red-500 text-sm">{{ form.user_type.errors }}</div>
            {% endif %}
          </div>

          <!-- Passwords -->
          <div>
            <label for="{{ form.password1.id_for_label }}" class="block text-sm mb-1 text-white">Password</label>
            {{ form.password1|add_class:"w-full rounded-lg border border-white/20 bg-white/90 px-3 py-2 text-slate-900 focus:ring-2 focus:ring-primary focus:outline-none" }}
            {% if form.password1.errors %}
              <div class="text-red-500 text-sm">{{ form.password1.errors }}</div>
            {% endif %}
          </div>

          <div>
            <label for="{{ form.password2.id_for_label }}" class="block text-sm mb-1 text-white">Confirm Password</label>
            {{ form.password2|add_class:"w-full rounded-lg border border-white/20 bg-white/90 px-3 py-2 text-slate-900 focus:ring-2 focus:ring-primary focus:outline-none" }}
            {% if form.password2.errors %}
              <div class="text-red-500 text-sm">{{ form.password2.errors }}</div>
            {% endif %}
          </div>

          <!-- Submit -->
          <div>
            <button type="submit" class="w-full rounded-lg bg-white text-primary font-semibold py-2 hover:opacity-95 transition">
              Create Account
            </button>
          </div>

          <!-- Login link -->
          <p class="text-white/80 text-center text-sm">
            Already have an account?
            <a href="{% url 'accounts:login' %}" class="underline">Log in</a>
          </p>
        </form>
      </div>
    </div>
  </section>

  <!-- SPLIT BAR -->
  <div class="hidden md:flex items-stretch">
    <div class="split-flow"></div>
  </div>

  <!-- RIGHT IMAGE -->
  <section class="md:w-1/2 w-full relative flex items-center justify-center">
    <div class="img-container">
      <img src="{% static 'images/background.jpeg' %}" alt="Career background" class="img-entrance">
    </div>
  </section>

</div>
</body>
</html>

{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Login - CareerConnect</title>

<!-- Fonts and Tailwind -->
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Inter:wght@400;500;700;900" onload="this.rel='stylesheet'" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script>
  tailwind.config = {
    darkMode: "class",
    theme: {
      extend: {
        colors: {
          primary: "#1173d4",
          "background-light": "#f6f7f8",
          "background-dark": "#101922",
        },
        fontFamily: {
          display: ["Inter"]
        },
        borderRadius: {
          DEFAULT: "0.25rem",
          lg: "0.5rem",
          xl: "0.75rem",
          full: "9999px"
        },
      },
    },
  }
</script>

<style>
  @keyframes fadeIn {
    0% { opacity: 0; transform: translateY(20px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  .fade-in { opacity: 0; animation: fadeIn 1s ease forwards; }
  .fade-in-delay { animation-delay: 0.3s; }
  .fade-in-delay-2 { animation-delay: 0.6s; }

  @keyframes glow {
    0%, 100% { filter: drop-shadow(0 0 6px #1173d4) drop-shadow(0 0 12px #4aa1f0); }
    50% { filter: drop-shadow(0 0 20px #1173d4) drop-shadow(0 0 40px #4aa1f0); }
  }
  .glow-logo svg { animation: glow 2.5s ease-in-out infinite; }

  @keyframes blurFade {
    0% { filter: blur(8px) brightness(80%); opacity: 0.8; }
    100% { filter: blur(0px) brightness(100%); opacity: 1; }
  }
  .blur-animation { animation: blurFade 1.5s ease forwards; }

  @keyframes waterFlow {
    0% { background-position: 0 0; }
    100% { background-position: 0 200%; }
  }
  .animate-water {
    position: absolute;
    left: 0;
    top: 0;
    width: 4px;
    height: 100%;
    background: repeating-linear-gradient(
      to bottom,
      #1173d4 0%,
      #4aa1f0 25%,
      #1173d4 50%
    );
    background-size: 100% 200%;
    animation: waterFlow 1.5s linear infinite;
  }

  @keyframes gradientOcean {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  .gradient-bg {
    background: linear-gradient(-45deg, #0f73d4, #1eb0f4, #3bc6d4, #1173d4);
    background-size: 300% 300%;
    animation: gradientOcean 12s ease infinite;
  }
</style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-slate-800 dark:text-slate-200">

<div class="flex min-h-screen">

  <!-- Left Side -->
  <div class="w-1/2 flex flex-col justify-center px-12 relative border-r-2 border-blue-500 gradient-bg">

    <!-- Logo -->
    <div class="flex flex-col items-start gap-2 mb-6 fade-in glow-logo">
      <div class="flex items-center gap-3">
        <svg class="h-10 w-10 text-white" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path d="M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z" fill="currentColor"/>
        </svg>
        <h1 class="text-2xl font-bold text-white">CareerConnect</h1>
      </div>
      <div class="border-b-2 border-white w-full mt-1"></div>
    </div>

    <!-- Heading -->
    <div class="mb-6 fade-in fade-in-delay">
      <h2 class="text-3xl font-bold text-white">Welcome Back</h2>
      <p class="mt-2 text-sm text-slate-100">Log in to continue applying for jobs</p>
    </div>

    <!-- Django Login Form -->
    <form method="post" class="space-y-4 fade-in fade-in-delay-2">
      {% csrf_token %}
      {% if form.non_field_errors %}
        <div class="bg-red-100 border border-red-400 text-red-700 p-2 rounded">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <div>
        <label for="{{ form.username.id_for_label }}" class="block text-sm font-bold text-white">Username:</label>
        {% render_field form.username class+="mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-primary focus:ring-primary" placeholder="Enter your username" %}
        {% for error in form.username.errors %}
          <div class="text-red-400 text-sm">{{ error }}</div>
        {% endfor %}
      </div>

      <div>
        <label for="{{ form.password.id_for_label }}" class="block text-sm font-bold text-white">Password:</label>
        {% render_field form.password class+="mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-primary focus:ring-primary" placeholder="Enter your password" %}
        {% for error in form.password.errors %}
          <div class="text-red-400 text-sm">{{ error }}</div>
        {% endfor %}
      </div>

      <div class="flex items-center justify-between">
        <label class="flex items-center text-sm text-white">
          <input type="checkbox" class="h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary mr-2"/>
          Remember me
        </label>
        <a href="#" class="text-white text-sm hover:underline">Forgot Password?</a>
      </div>

      <button type="submit" class="w-full rounded-lg bg-white px-4 py-2 text-primary font-semibold hover:bg-slate-100 transition-colors">
        Log In
      </button>
    </form>

    <p class="mt-4 text-sm text-white">
      Don't have an account?
      <a href="{% url 'accounts:signup' %}" class="font-medium underline">Sign Up</a>
    </p>
  </div>

  <!-- Right Side -->
  <div class="w-1/2 relative overflow-hidden">
    <div class="animate-water"></div>
    <img src="{% static 'images/background.jpeg' %}" alt="Career Background" class="absolute inset-0 w-full h-full object-cover blur-animation"/>
  </div>

</div>

</body>
</html>
